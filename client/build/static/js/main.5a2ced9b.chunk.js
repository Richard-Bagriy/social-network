(window["webpackJsonpit-kamasutra"]=window["webpackJsonpit-kamasutra"]||[]).push([[0],{10:function(e,t,a){e.exports={wrapper:"Login_wrapper__3egIv",inner:"Login_inner__2kBmR",loginHeader:"Login_loginHeader__1MEIs",loginBody:"Login_loginBody__Gz29I",loginH1:"Login_loginH1__3v9Er",loginText:"Login_loginText__zeBfL",loginFormWrapper:"Login_loginFormWrapper__2EiIw",loginForm:"Login_loginForm__2qgXx",inputContainer:"Login_inputContainer__2YQc3",inputField:"Login_inputField__25XB0",loginIcon:"Login_loginIcon__2Bn2B",btn:"Login_btn__3sPNM"}},11:function(e,t,a){e.exports={wrapper:"Register_wrapper__2ZDH3",inner:"Register_inner__zOSrp",loginHeader:"Register_loginHeader__105Ne",loginBody:"Register_loginBody__21Ot7",loginH1:"Register_loginH1__16u-D",loginText:"Register_loginText__3zaGK",loginFormWrapper:"Register_loginFormWrapper__1FEax",loginForm:"Register_loginForm__2uHnG",inputContainer:"Register_inputContainer__1pV2D",inputField:"Register_inputField__1LYdI",loginIcon:"Register_loginIcon__1NVb6",btn:"Register_btn__c0Kh1",gender:"Register_gender__1wub6"}},12:function(e,t,a){e.exports={wrapper:"ProfileInfo_wrapper__Jayy5",center:"ProfileInfo_center__1vW-1",profile__image:"ProfileInfo_profile__image__1Rj1C",profileName:"ProfileInfo_profileName__38XtL",profileLocation:"ProfileInfo_profileLocation__2edHu",profileInfo:"ProfileInfo_profileInfo__33INo",friendInfo:"ProfileInfo_friendInfo__1tdVW",friendInfoSpan:"ProfileInfo_friendInfoSpan__1Use_",frinedText:"ProfileInfo_frinedText__aruak"}},131:function(e,t,a){e.exports={wrapper:"Profile_wrapper__1THLC","image-block":"Profile_image-block__3qKg9"}},132:function(e,t,a){e.exports={postsWrapper:"Posts_postsWrapper__3PmQ7"}},133:function(e,t,a){e.exports=a(260)},138:function(e,t,a){},220:function(e,t,a){},25:function(e,t,a){e.exports={wrapper:"Friends_wrapper__21_zx",inner:"Friends_inner__WfCXA",friendWrapper:"Friends_friendWrapper__1DeEW",friendInner:"Friends_friendInner__aG239",image:"Friends_image__7F98p",friendInfo:"Friends_friendInfo__qhGuZ",friendName:"Friends_friendName__1730Z",friendMessage:"Friends_friendMessage__yq3f0",time:"Friends_time__2zMEu",filterInput:"Friends_filterInput__3o0gv",filter:"Friends_filter__dYOcn"}},260:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(66),o=a.n(s),i=(a(138),a(9)),c=a(7),l=a(31),u=a(34),m=a(125).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"6080288c-2237-4f64-bb84-a5fbb29d9eb8"}}),p=function(e){return m.get("profile/".concat(e)).then(function(e){return e.data})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return m.get("/users",{params:{count:e,page:t}}).then(function(e){return e.data})},d=function(e){return m.post("follow/".concat(e),{}).then(function(e){return e.data.resultCode})},g=function(e){return m.delete("follow/".concat(e)).then(function(e){return e.data.resultCode})},_=function(e){return m.post("/auth/login",e).then(function(e){return e.data})},E=function(){return m.get("/auth/me").then(function(e){return e.data})},b=function(){return m.delete("/auth/login").then(function(e){return e.data.resultCode})};function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var N={posts:[{message:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed placerat placerat dignissim. Cras sit amet posuere metus, eu pharetra urna. Praesent tortor purus, gravida id massa non, hendrerit accumsan metus. ",count:10,id:1},{message:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed placerat placerat dignissim. Cras sit amet posuere metus, eu pharetra urna. Praesent tortor purus, gravida id massa non, hendrerit accumsan metus. ?",count:22,id:2},{message:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed placerat placerat dignissim. Cras sit amet posuere metus, eu pharetra urna. Praesent tortor purus, gravida id massa non, hendrerit accumsan metus. ",count:33,id:3},{message:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed placerat placerat dignissim. Cras sit amet posuere metus, eu pharetra urna. Praesent tortor purus, gravida id massa non, hendrerit accumsan metus. ",count:44,id:4}],profile:null,isLoadingUser:!1},O=function(e){return{type:"ADD-POST",message:e}},w=function(e){return{type:"TOGGLE_LOADING_USER",loading:e}};function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j={dialogs:[{name:"Artem",id:1},{name:"Viktor",id:2},{name:"Andrey",id:3},{name:"Sasha",id:4},{name:"Valera",id:5}],messages:[{id:1,message:"Hello",friend:1},{id:2,message:"Hello",friend:0},{id:3,message:"How are you?",friend:1},{id:4,message:"I am very good & u ?",friend:0}]};function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var S={users:[],page:1,limit:12,isLoadingUsers:!1,followingInProgress:[]},F=function(e){return{type:"TOGGLE_LOADING_USERS",loading:e}},k=function(e,t){return{type:"TOGGLE_FOLLOWING_ON_USER",inProgress:e,id:t}},T={userId:null,userName:null,isAuth:!1},U=function(e,t){return{type:"SET_AUTH",data:e,auth:t}},x=function(){return function(e){return E().then(function(t){0===t.resultCode&&e(U(t.data,!0))})}},C=a(126);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var D={init:!1},A=a(127),M=a(263),R=Object(c.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={id:5,message:t.message,count:0};return h({},e,{posts:[].concat(Object(l.a)(e.posts),[a])});case"SET_PROFILE_DATA":return h({},e,{profile:t.data});case"TOGGLE_LOADING_USER":return h({},e,{isLoadingUser:t.loading});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-NEW-MESSAGE":var a={id:4,message:t.message,friend:0};return I({},e,{messages:[].concat(Object(l.a)(e.messages),[a])});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return L({},e,{users:e.users.map(function(e){return e.id===t.userId?L({},e,{followed:!0}):e})});case"UNFOLLOW":return L({},e,{users:e.users.map(function(e){return e.id===t.userId?L({},e,{followed:!1}):e})});case"SET_USERS":return L({},e,{users:[].concat(Object(l.a)(e.users),Object(l.a)(t.users))});case"SET_PAGE":return L({},e,{page:t.page});case"TOGGLE_LOADING_USERS":return L({},e,{isLoadingUsers:t.loading});case"TOGGLE_FOLLOWING_ON_USER":return L({},e,{followingInProgress:t.inProgress?[].concat(Object(l.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter(function(e){return e!==t.id})});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":return{userId:t.data.id,userName:t.data.login,isAuth:t.auth};default:return e}},form:M.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIAL":return H({},e,{init:!0});default:return e}}}),B=Object(c.e)(R,Object(c.a)(A.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(5),V=a(15),z=a(16),X=a(18),q=a(17),K=a(19),Q=(a(220),a(89)),Y=a.n(Q),J=a(40),Z=a.n(J),$=a(32),ee=function(e){return e.auth.userId},te=function(e){return e.auth.userName},ae=function(e){return e.auth.isAuth},ne=function(e){var t=function(t){function a(){return Object(V.a)(this,a),Object(X.a)(this,Object(q.a)(a).apply(this,arguments))}return Object(K.a)(a,t),Object(z.a)(a,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement($.a,{to:"/login"})}}]),a}(r.a.Component);return Object(G.b)(function(e){return{isAuth:ae(e)}})(t)},re=a(39),se=a(42),oe=a.n(se),ie=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(X.a)(this,Object(q.a)(t).call(this,e))).state={open:!1},a.toggleMenu=a.toggleMenu.bind(Object(re.a)(a)),a.logout=a.logout.bind(Object(re.a)(a)),a}return Object(K.a)(t,e),Object(z.a)(t,[{key:"toggleMenu",value:function(){this.setState({open:!this.state.open})}},{key:"logout",value:function(){this.props.logout()}},{key:"render",value:function(){return r.a.createElement("div",{className:oe.a.wrapper},r.a.createElement("button",{className:oe.a.btn,onClick:this.toggleMenu},r.a.createElement("i",{className:"fas fa-user-circle"}),r.a.createElement("span",{className:oe.a.userName},this.props.userName)),r.a.createElement("div",{className:"".concat(oe.a.menu," ").concat(this.state.open?oe.a.open:""," ")},r.a.createElement("div",{className:oe.a.menuItem},r.a.createElement("span",{onClick:this.props.logout},"Logout"))))}}]),t}(r.a.Component),ce=Object(G.b)(function(e){return{userName:te(e)}},{logout:function(){return function(e){b().then(function(t){0===t&&e(U({data:{id:null,userName:null}},!1))})}}})(ie),le=Object(c.d)(Object(G.b)(function(e){return{isAuth:ae(e)}}),ne)(function(e){var t=e.isAuth;return r.a.createElement("header",{className:Y.a.header},r.a.createElement("div",{className:Y.a.logoLeft},r.a.createElement(i.c,{to:"/"},r.a.createElement("img",{src:Z.a,alt:Z.a})),"Social-Network"),t&&r.a.createElement(ce,null))}),ue=a(27),me=a.n(ue),pe=function(){return r.a.createElement("nav",{className:me.a.nav},r.a.createElement("div",{className:me.a.item},r.a.createElement(i.c,{to:"/profile",activeClassName:me.a.active},r.a.createElement("i",{className:"fas fa-user ".concat(me.a.navbarIcon)}),"Profile")),r.a.createElement("div",{className:me.a.item},r.a.createElement(i.c,{to:"/dialogs",activeClassName:me.a.active},r.a.createElement("i",{className:"far fa-envelope ".concat(me.a.navbarIcon)}),"Messages")),r.a.createElement("div",{className:me.a.item},r.a.createElement(i.c,{to:"/users",activeClassName:me.a.active},r.a.createElement("i",{className:"fas fa-users ".concat(me.a.navbarIcon)}),"Find Users")))},fe=a(131),de=a.n(fe),ge=a(43),_e=a.n(ge),Ee=a(30),be=a.n(Ee),ve=function(e){var t=new Date;return r.a.createElement("div",{className:_e.a.postWrapper},r.a.createElement("div",{className:_e.a.postTop},r.a.createElement("img",{src:be.a,className:_e.a.image,alt:"test"}),r.a.createElement("div",null,r.a.createElement("div",{className:_e.a.postUserName},"Rock Smith"),r.a.createElement("div",{className:_e.a.postTime},t.toLocaleTimeString()))),r.a.createElement("div",{className:_e.a.postText},e.message))},he=a(132),Ne=a.n(he),Oe=a(41),we=a.n(Oe),ye=a(262),Ie=a(261),je=function(e){return e?void 0:"Field is required!"},Pe=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," character or less"):void 0}},Le=a(91),Se=a(44),Fe=a.n(Se),ke=function(e){var t=e.input,a=e.meta,n=a.touched,s=a.error,o=Object(Le.a)(e,["input","meta"]),i=n&&s;return r.a.createElement("div",{className:" ".concat(i?Fe.a.error:""," ").concat(Fe.a.formControl)},r.a.createElement("input",Object.assign({},t,o)),i?r.a.createElement("div",{className:Fe.a.errorMessage},s):"")},Te=Pe(50),Ue=Object(Ie.a)({form:"add-post"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:we.a.inner},r.a.createElement("img",{className:we.a.profileImage,src:e.profileImage,alt:"New Post"}),r.a.createElement(ye.a,{component:ke,className:we.a.input,value:e.text,name:"message",validate:[je,Te]}),r.a.createElement("button",{className:we.a.btn},"Add post"))}),xe=function(e){var t=e.profileImage?e.profileImage:be.a;return r.a.createElement("div",{className:we.a.wrapper},r.a.createElement(Ue,{onSubmit:function(t){var a=t.message;e.addPost(a)},profileImage:t}))},Ce=Object(G.b)(function(e){return{profileImage:e.profilePage.profile.photos.small}},{addPost:O})(xe),We=function(e){return r.a.createElement("div",null,r.a.createElement(Ce,null),r.a.createElement("div",{className:Ne.a.postsWrapper},e.posts.map(function(e){return r.a.createElement(ve,{message:e.message,count:e.count,key:e.id})})))},He=function(e){return e.profilePage.profile},De=function(e){return e.profilePage.posts},Ae=function(e){return e.profilePage.isLoadingUser},Me=Object(G.b)(function(e){return{posts:De(e)}},{addPost:O})(We),Re=a(12),Be=a.n(Re),Ge=function(e){var t=e.profile.photos.small?e.profile.photos.small:be.a;return r.a.createElement("div",{className:Be.a.wrapper},r.a.createElement("div",{className:Be.a.center},r.a.createElement("img",{className:Be.a.profile__image,src:t,alt:e.profile.fullName})),r.a.createElement("div",{className:Be.a.profileInfo},r.a.createElement("div",{className:"".concat(Be.a.profileName," ").concat(Be.a.center)},e.profile.fullName),r.a.createElement("div",{className:"".concat(Be.a.profileLocation," ").concat(Be.a.center)},r.a.createElement("i",{className:"fas fa-map-marker-alt location-market"}),"Ukraine"),r.a.createElement("div",{className:"".concat(Be.a.friendInfo," ").concat(Be.a.center)},r.a.createElement("div",null,r.a.createElement("span",{className:Be.a.friendInfoSpan},"15"),r.a.createElement("span",{className:Be.a.frinedText},"Listing")),r.a.createElement("div",null,r.a.createElement("span",{className:Be.a.friendInfoSpan},"150"),r.a.createElement("span",{className:Be.a.frinedText},"Followers")),r.a.createElement("div",null,r.a.createElement("span",{className:Be.a.friendInfoSpan},"265"),r.a.createElement("span",{className:Be.a.frinedText},"Followind")))))},Ve=r.a.memo(function(e){return e.profile?r.a.createElement("div",{className:de.a.wrapper},r.a.createElement(Ge,{profile:e.profile}),r.a.createElement(Me,null)):r.a.createElement(r.a.Fragment,null)}),ze=a(94),Xe=a.n(ze),qe=function(){return r.a.createElement("div",{className:Xe.a.wrapper},r.a.createElement("div",{className:Xe.a.inner}))},Ke=function(e){function t(){return Object(V.a)(this,t),Object(X.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e||(e=this.props.userId),this.props.getProfile(e)}},{key:"render",value:function(){return this.props.isLoadingUser?r.a.createElement(qe,null):r.a.createElement("div",null,r.a.createElement(Ve,{profile:this.props.profile}))}}]),t}(r.a.PureComponent),Qe=Object(c.d)(Object(G.b)(function(e){return{profile:He(e),isAuth:ae(e),userId:ee(e),isLoadingUser:Ae(e)}},{getProfile:function(e){return function(t){t(w(!0)),p(e).then(function(e){t(function(e){return{type:"SET_PROFILE_DATA",data:e}}(e)),t(w(!1))})}}}),$.f)(Ke),Ye=a(57),Je=a.n(Ye),Ze=a(25),$e=a.n(Ze),et=[{name:"Rock Willam",message:"Lore Ipsum"},{name:"Rock Willam",message:"Lore Ipsum"},{name:"Rock Willam",message:"Lore Ipsum"},{name:"Rock Willam",message:"Lore Ipsum"},{name:"Rock Willam",message:"Lore Ipsum"}],tt=function(e){var t=new Date;return r.a.createElement("div",{className:$e.a.wrapper},r.a.createElement("div",{className:$e.a.inner},r.a.createElement("div",{className:$e.a.filter},r.a.createElement("input",{type:"text",className:$e.a.filterInput,placeholder:"Enter a keyword"})),et.map(function(e){return r.a.createElement("div",{className:$e.a.friendWrapper},r.a.createElement("div",{className:$e.a.friendInner},r.a.createElement("img",{src:be.a,alt:e.name,className:$e.a.image}),r.a.createElement("div",{className:$e.a.friendInfo},r.a.createElement("div",{className:$e.a.friendName},e.name),r.a.createElement("div",{className:$e.a.friendMessage},e.message)),r.a.createElement("div",{className:$e.a.time},t.toLocaleTimeString())))})))},at=a(70),nt=a.n(at),rt=function(e){return r.a.createElement("div",{className:"".concat(nt.a.message," ").concat(e.state.friend?nt.a.messageFriend:nt.a.messageMy)},e.state.message)},st=a(49),ot=a.n(st),it=Pe(20),ct=Object(Ie.a)({form:"new-message"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:ot.a.inner},r.a.createElement(ye.a,{component:ke,type:"text",className:ot.a.input,value:e.text,name:"message",validate:[it,je]}),r.a.createElement("button",{className:ot.a.button},"Send"))}),lt=Object(G.b)(null,{addNewMessage:function(e){return{type:"ADD-NEW-MESSAGE",message:e}}})(function(e){return r.a.createElement("div",{className:ot.a.block},r.a.createElement(ct,{onSubmit:function(t){e.addNewMessage(t.message)}}))}),ut=function(e){return r.a.createElement("div",{className:Je.a.dialogsWrapper},r.a.createElement(tt,null),r.a.createElement("div",{className:Je.a.messagesWrapper},r.a.createElement("div",{className:Je.a.messagesHeader},"Jony Silva"),r.a.createElement("div",{className:Je.a.messagesInner},e.messages.map(function(e){return r.a.createElement(rt,{state:e,key:e.id})})),r.a.createElement(lt,null)))},mt=function(e){return e.dialogsPage.dialogs},pt=function(e){return e.dialogsPage.messages},ft=Object(G.b)(function(e){return{dialogs:mt(e),messages:pt(e)}})(ut),dt=a(8),gt=a.n(dt),_t=a(71),Et=a.n(_t),bt=Pe(16),vt=Object(Ie.a)({form:"filter-users"})(function(e){return r.a.createElement("form",{className:Et.a.filterWrapper,onSubmit:e.handleSubmit},r.a.createElement(ye.a,{type:"text",className:Et.a.search,validate:[bt],component:ke,name:"filterText"}),r.a.createElement("button",{className:Et.a.btn},"Search"))}),ht=function(e){return r.a.createElement("div",{className:gt.a.userWrapper},r.a.createElement("h2",{className:gt.a.usersHeader},"Find Users",r.a.createElement("hr",{className:gt.a.usersHeaderHr})),r.a.createElement(vt,{onSubmit:function(t){var a=t.filterText;e.changeFilterText(a)}}),r.a.createElement("div",{className:gt.a.userInner,id:"users-wrapper"},e.filterUsers.map(function(t){return r.a.createElement("div",{className:gt.a.userBlock,key:t.id},r.a.createElement("div",{className:gt.a.userImage},r.a.createElement(i.c,{to:"/profile/".concat(t.id)},r.a.createElement("img",{className:gt.a.userImage,src:t.photos.small?t.photos.small:be.a,alt:"test"}))),r.a.createElement("div",{className:gt.a.userName},t.name),r.a.createElement("div",{className:gt.a.userCountry},r.a.createElement("i",{className:"fas fa-map-marker-alt location-market"}),"Ukraine"),r.a.createElement("div",{className:gt.a.userInfo},r.a.createElement("div",null,r.a.createElement("div",{className:gt.a.userInfoCount},"15"),r.a.createElement("div",{className:gt.a.userInfoText},"Lisitngs")),r.a.createElement("div",null,r.a.createElement("div",{className:gt.a.userInfoCount},"150"),r.a.createElement("div",{className:gt.a.userInfoText},"Followers")),r.a.createElement("div",null,r.a.createElement("div",{className:gt.a.userInfoCount},"265"),r.a.createElement("div",{className:gt.a.userInfoText},"Following"))),t.followed?r.a.createElement("button",{disabled:e.followingInProgress.some(function(e){return e===t.id}),className:"".concat(gt.a.followBtn),onClick:function(){return e.unfollow(t.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.followingInProgress.some(function(e){return e===t.id}),className:"".concat(gt.a.unffolowBtn),onClick:function(){return e.follow(t.id)}},"Follow"))})),e.isLoadingUsers&&r.a.createElement(qe,null))},Nt=function(e){return e.usersPage.users},Ot=function(e){return e.usersPage.page},wt=function(e){return e.usersPage.limit},yt=function(e){return e.usersPage.isLoadingUsers},It=function(e){return e.usersPage.followingInProgress},jt=function(e){function t(){var e,a;Object(V.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(X.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).state={filterText:""},a}return Object(K.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.limit,this.props.page),this._autoLoadUsers()}},{key:"_autoLoadUsers",value:function(){var e=this;document.addEventListener("scroll",function(){var t=document.documentElement.scrollHeight-(window.pageYOffset+window.innerHeight);document.querySelector("#users-wrapper")&&t<=200&&!e.state.filterText&&!e.props.isLoadingUsers&&e.props.getUsers(e.props.limit,e.props.page)})}},{key:"changeFilterText",value:function(e){this.setState({filterText:e})}},{key:"getUsers",value:function(){var e=this.state.filterText.toLowerCase();return e?Object(l.a)(this.props.users).filter(function(t){return t.name.toLowerCase().includes(e)}):this.props.users}},{key:"render",value:function(){var e=this.getUsers();return r.a.createElement(ht,Object.assign({changeFilterText:this.changeFilterText.bind(this),filterUsers:e},this.props))}}]),t}(r.a.PureComponent),Pt=Object(G.b)(function(e){return{users:Nt(e),page:Ot(e),limit:wt(e),isLoadingUsers:yt(e),followingInProgress:It(e)}},{follow:function(e){return function(t){t(k(!0,e)),d(e).then(function(a){0===a&&(t({type:"FOLLOW",userId:e}),t(k(!1,e)))})}},unfollow:function(e){return function(t){t(k(!0,e)),g(e).then(function(a){0===a&&(t({type:"UNFOLLOW",userId:e}),t(k(!1,e)))})}},getUsers:function(e,t){return function(a){a(F(!0)),a(function(e){return{type:"SET_PAGE",page:e}}(t+1)),f(e,t).then(function(e){a({type:"SET_USERS",users:e.items}),a(F(!1))})}}})(jt),Lt=a(10),St=a.n(Lt),Ft=Pe(16),kt=Object(Ie.a)({form:"login"})(function(e){return r.a.createElement("form",{className:St.a.loginForm,onSubmit:e.handleSubmit},r.a.createElement("div",{className:St.a.inputContainer},r.a.createElement(ye.a,{className:St.a.inputField,name:"email",type:"email",placeholder:"Email",component:ke,validate:[je]}),r.a.createElement("i",{className:"far fa-envelope ".concat(St.a.loginIcon)})),r.a.createElement("div",{className:St.a.inputContainer},r.a.createElement(ye.a,{className:St.a.inputField,name:"password",type:"password",placeholder:"Password",component:ke,validate:[je,Ft]}),r.a.createElement("i",{className:"far fa-eye-slash ".concat(St.a.loginIcon),onClick:function(e){var t=e.currentTarget.parentElement.querySelector('input[name="password"');"password"===t.getAttribute("type")?t.setAttribute("type","text"):t.setAttribute("type","password")}})),r.a.createElement("button",{className:St.a.btn},"Sign In"))}),Tt=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(X.a)(this,Object(q.a)(t).call(this,e))).onSubmit=a.onSubmit.bind(Object(re.a)(a)),a}return Object(K.a)(t,e),Object(z.a)(t,[{key:"onSubmit",value:function(e){this.props.authLogin(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:St.a.wrapper},r.a.createElement("div",{className:St.a.inner},r.a.createElement("div",{className:St.a.loginHeader},r.a.createElement("img",{src:Z.a,alt:"Logo"}),r.a.createElement(i.b,{to:"/registration"},"Sign Up now")),r.a.createElement("div",{className:St.a.loginBody},r.a.createElement("h1",{className:St.a.loginH1},"Sign In"),r.a.createElement("div",{className:St.a.loginText},"Hello there! Sign in and start managing your item."),r.a.createElement("div",{className:St.a.loginFormWrapper},r.a.createElement(kt,{onSubmit:this.onSubmit})))))}}]),t}(r.a.Component),Ut=Object(G.b)(function(e){return{isAuth:ae(e)}},{authLogin:function(e){return function(t){_(e).then(function(e){0===e.resultCode&&t(x())})}},checkAuth:x})(Tt),xt=a(11),Ct=a.n(xt),Wt=Pe(16),Ht=Object(Ie.a)({form:"registration"})(function(e){return r.a.createElement("form",{className:Ct.a.loginForm},r.a.createElement("div",{className:Ct.a.inputContainer},r.a.createElement(ye.a,{className:Ct.a.inputField,name:"name",type:"name",placeholder:"Name",component:ke,validate:[je]})),r.a.createElement("div",{className:Ct.a.inputContainer},r.a.createElement(ye.a,{className:Ct.a.inputField,name:"email",type:"email",placeholder:"Email",component:ke,validate:[je]})),r.a.createElement("div",{className:Ct.a.inputContainer},r.a.createElement(ye.a,{className:Ct.a.inputField,name:"password",type:"password",placeholder:"Password",component:ke,validate:[je,Wt]})),r.a.createElement("button",{className:Ct.a.btn},"Sign In"))}),Dt=function(){return r.a.createElement("div",{className:Ct.a.wrapper},r.a.createElement("div",{className:Ct.a.inner},r.a.createElement("div",{className:Ct.a.loginHeader},r.a.createElement("img",{src:Z.a,alt:"Logo"}),r.a.createElement(i.b,{to:"/login"},"Sign in")),r.a.createElement("div",{className:Ct.a.loginBody},r.a.createElement("h1",{className:Ct.a.loginH1},"Sign Up"),r.a.createElement("div",{className:Ct.a.loginText},"Hello there! Sign in and start managing your item."),r.a.createElement("div",{className:Ct.a.loginFormWrapper},r.a.createElement(Ht,null)))))},At=function(e){function t(){return Object(V.a)(this,t),Object(X.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{to:"/login"}),r.a.createElement($.b,{path:"/login",exact:!0,component:Ut}),r.a.createElement($.b,{path:"/registration",exact:!0,component:Dt}))}}]),t}(r.a.Component),Mt=function(e){return e.app.init},Rt=function(e){function t(){return Object(V.a)(this,t),Object(X.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(K.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.init?this.props.isAuth?r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{to:"/"}),r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(le,null),r.a.createElement(pe,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement($.b,{path:"/",exact:!0,component:ne(ft)}),r.a.createElement($.b,{path:"/profile/:id?",component:ne(Qe)}),r.a.createElement($.b,{path:"/dialogs",component:ne(ft)}),r.a.createElement($.b,{path:"/users",component:ne(Pt)})))):r.a.createElement(At,null):r.a.createElement(qe,null)}}]),t}(r.a.Component),Bt=Object(G.b)(function(e){return{init:Mt(e),isAuth:ae(e)}},{initializeApp:function(){return function(e){C.Promise.all([e(x())]).then(function(){e({type:"SET_INITIAL"})})}}})(Rt);o.a.render(r.a.createElement(i.a,null,r.a.createElement(G.a,{store:B},r.a.createElement(Bt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},27:function(e,t,a){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",active:"Navbar_active__3mbhk",navbarIcon:"Navbar_navbarIcon__UNsR1"}},30:function(e,t,a){e.exports=a.p+"static/media/user.8038d64a.png"},40:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},41:function(e,t,a){e.exports={wrapper:"NewPost_wrapper__jWFLL",inner:"NewPost_inner__36-cr",profileImage:"NewPost_profileImage__2IeOU",btn:"NewPost_btn__ihLUO",input:"NewPost_input__3Q5ly"}},42:function(e,t,a){e.exports={wrapper:"HeaderMenu_wrapper__1iq-n",btn:"HeaderMenu_btn__1dzHX",userName:"HeaderMenu_userName__1IbPg",menu:"HeaderMenu_menu__19_y6",open:"HeaderMenu_open__3WTiV",menuItem:"HeaderMenu_menuItem__3b5c_"}},43:function(e,t,a){e.exports={postWrapper:"Post_postWrapper__3Xe2N",image:"Post_image__1ECFY",postTop:"Post_postTop__Is8Lp",postUserName:"Post_postUserName__3VpRH",postTime:"Post_postTime__2hVV-",postText:"Post_postText__3rZVd"}},44:function(e,t,a){e.exports={formControl:"Forms_formControl__32Q2f",error:"Forms_error__6fg0C",errorMessage:"Forms_errorMessage__2vCjJ"}},49:function(e,t,a){e.exports={block:"NewMessage_block__2v6Pa",inner:"NewMessage_inner__1h-Gi",input:"NewMessage_input__PltBM",button:"NewMessage_button__2r3iK"}},57:function(e,t,a){e.exports={dialogsWrapper:"Dialogs_dialogsWrapper__pMZCD",messagesWrapper:"Dialogs_messagesWrapper__2yF5g",messagesInner:"Dialogs_messagesInner__pL4BW",messagesHeader:"Dialogs_messagesHeader__1xpCW"}},70:function(e,t,a){e.exports={message:"Message_message__1MOXo",messageFriend:"Message_messageFriend__1_gPk",messageMy:"Message_messageMy__3OuXE"}},71:function(e,t,a){e.exports={filterWrapper:"Filter_filterWrapper__2FkID",search:"Filter_search__3KL-y",btn:"Filter_btn__Vyvst"}},8:function(e,t,a){e.exports={userWrapper:"Users_userWrapper__CMmXL",usersHeader:"Users_usersHeader__1Ohv0",usersHeaderHr:"Users_usersHeaderHr__1aC_r",followBtn:"Users_followBtn__3m1nP",unffolowBtn:"Users_unffolowBtn__dgyLo",userImage:"Users_userImage__xSiv3",userInner:"Users_userInner__VcrUN",userBlock:"Users_userBlock__3uICQ",userName:"Users_userName__1mt5V",userCountry:"Users_userCountry__6nBlk",moreUsersBtn:"Users_moreUsersBtn__3EoNT",userInfo:"Users_userInfo__21fTd",userInfoCount:"Users_userInfoCount__fHwUQ",userInfoText:"Users_userInfoText__1-8Va"}},89:function(e,t,a){e.exports={header:"Header_header__1VCKf",logoLeft:"Header_logoLeft__2QVL_"}},94:function(e,t,a){e.exports={wrapper:"Preloader_wrapper__26-rB",inner:"Preloader_inner__1Fc0L",spinner:"Preloader_spinner__3sfUg"}}},[[133,1,2]]]);
//# sourceMappingURL=main.5a2ced9b.chunk.js.map